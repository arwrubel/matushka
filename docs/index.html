<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-i18n="pageTitle">Matushka - Russian Language Teaching Materials</title>
    <meta name="description" content="Discover authentic Russian media content for language education">
    <meta name="theme-color" content="#6366f1">

    <!-- Favicon - Cute Matryoshka -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3E%3Cellipse cx='8' cy='10' rx='6' ry='5.5' fill='%23FF6B6B'/%3E%3Ccircle cx='8' cy='6' r='4' fill='%23FFF5EE'/%3E%3Ccircle cx='6.5' cy='5.5' r='1' fill='%233D3D3D'/%3E%3Ccircle cx='9.5' cy='5.5' r='1' fill='%233D3D3D'/%3E%3Ccircle cx='7' cy='5' r='.3' fill='%23FFF'/%3E%3Ccircle cx='10' cy='5' r='.3' fill='%23FFF'/%3E%3Cpath d='M6.5 7.5Q8 9 9.5 7.5' fill='none' stroke='%233D3D3D' stroke-width='.7' stroke-linecap='round'/%3E%3Cellipse cx='8' cy='8' rx='5' ry='1.2' fill='%23FFD93D'/%3E%3C/svg%3E">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <a href="#main-content" class="skip-link" data-i18n="skipToMain">Skip to main content</a>

    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <span class="logo-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100">
                            <defs>
                                <linearGradient id="bodyGrad" x1="0%" y1="0%" x2="0%" y2="100%">
                                    <stop offset="0%" stop-color="#FF6B6B"/>
                                    <stop offset="100%" stop-color="#EE5A5A"/>
                                </linearGradient>
                                <linearGradient id="goldGrad" x1="0%" y1="0%" x2="100%" y2="0%">
                                    <stop offset="0%" stop-color="#FFD93D"/>
                                    <stop offset="100%" stop-color="#F9C846"/>
                                </linearGradient>
                            </defs>
                            <!-- Cute rounded body -->
                            <ellipse cx="50" cy="62" rx="32" ry="32" fill="url(#bodyGrad)"/>
                            <!-- Gold decorative band -->
                            <ellipse cx="50" cy="48" rx="28" ry="6" fill="url(#goldGrad)"/>
                            <!-- Face circle - bigger and friendlier -->
                            <circle cx="50" cy="35" r="18" fill="#FFF5EE"/>
                            <!-- Big cute eyes - simple dots -->
                            <circle cx="43" cy="33" r="3.5" fill="#3D3D3D"/>
                            <circle cx="57" cy="33" r="3.5" fill="#3D3D3D"/>
                            <!-- Eye sparkles - makes it cute! -->
                            <circle cx="44.5" cy="31.5" r="1.2" fill="#FFF"/>
                            <circle cx="58.5" cy="31.5" r="1.2" fill="#FFF"/>
                            <!-- Happy smile - simple arc -->
                            <path d="M44 40 Q50 46 56 40" fill="none" stroke="#3D3D3D" stroke-width="2.5" stroke-linecap="round"/>
                            <!-- Rosy cheeks -->
                            <circle cx="38" cy="38" r="3" fill="#FFAAAA" opacity="0.6"/>
                            <circle cx="62" cy="38" r="3" fill="#FFAAAA" opacity="0.6"/>
                            <!-- Cute play button on tummy -->
                            <circle cx="50" cy="70" r="12" fill="#FFF5EE"/>
                            <polygon points="47,66 47,74 55,70" fill="#EE5A5A"/>
                        </svg>
                    </span>
                    <span class="logo-text" data-i18n="appTitle">Matushka</span>
                </div>
                <div class="lang-toggle">
                    <button type="button" class="lang-btn active" data-lang="en">EN</button>
                    <button type="button" class="lang-btn" data-lang="ru">RU</button>
                </div>
            </div>

            <form id="searchForm" class="sidebar-filters">
                <!-- Quick Filters -->
                <div class="filter-section">
                    <h3 class="filter-title" data-i18n="sourcesTitle">Sources</h3>
                    <div class="chip-group">
                        <label class="chip"><input type="checkbox" name="source" value="1tv"><span data-i18n="src1tv">Channel One</span></label>
                        <label class="chip"><input type="checkbox" name="source" value="smotrim"><span data-i18n="srcSmotrim">Smotrim</span></label>
                        <label class="chip"><input type="checkbox" name="source" value="rt"><span data-i18n="srcRt">RT</span></label>
                        <label class="chip"><input type="checkbox" name="source" value="ntv"><span data-i18n="srcNtv">NTV</span></label>
                        <label class="chip"><input type="checkbox" name="source" value="ria"><span data-i18n="srcRia">RIA Novosti</span></label>
                        <label class="chip"><input type="checkbox" name="source" value="tass"><span data-i18n="srcTass">TASS</span></label>
                        <label class="chip"><input type="checkbox" name="source" value="kommersant"><span data-i18n="srcKommersant">Kommersant</span></label>
                        <label class="chip"><input type="checkbox" name="source" value="izvestia"><span data-i18n="srcIzvestia">Izvestia</span></label>
                    </div>
                </div>

                <div class="filter-section">
                    <h3 class="filter-title" data-i18n="categoriesTitle">Categories</h3>
                    <div class="chip-group">
                        <label class="chip"><input type="checkbox" name="category" value="politics"><span data-i18n="catPolitics">Politics</span></label>
                        <label class="chip"><input type="checkbox" name="category" value="economy"><span data-i18n="catEconomy">Economy</span></label>
                        <label class="chip"><input type="checkbox" name="category" value="society"><span data-i18n="catSociety">Society</span></label>
                        <label class="chip"><input type="checkbox" name="category" value="world"><span data-i18n="catWorld">World</span></label>
                        <label class="chip"><input type="checkbox" name="category" value="sports"><span data-i18n="catSports">Sports</span></label>
                        <label class="chip"><input type="checkbox" name="category" value="culture"><span data-i18n="catCulture">Culture</span></label>
                        <label class="chip"><input type="checkbox" name="category" value="science"><span data-i18n="catScience">Science</span></label>
                        <label class="chip"><input type="checkbox" name="category" value="technology"><span data-i18n="catTechnology">Tech</span></label>
                        <label class="chip"><input type="checkbox" name="category" value="military"><span data-i18n="catMilitary">Military</span></label>
                        <label class="chip"><input type="checkbox" name="category" value="education"><span data-i18n="catEducation">Education</span></label>
                    </div>
                </div>

                <div class="filter-section">
                    <h3 class="filter-title" data-i18n="levelTitle">Level</h3>
                    <div class="chip-group">
                        <label class="chip"><input type="checkbox" name="level" value="beginner"><span data-i18n="levelBeginner">Beginner</span></label>
                        <label class="chip"><input type="checkbox" name="level" value="intermediate"><span data-i18n="levelIntermediate">Intermediate</span></label>
                        <label class="chip"><input type="checkbox" name="level" value="advanced"><span data-i18n="levelAdvanced">Advanced</span></label>
                    </div>
                </div>

                <!-- Advanced Filters (collapsible) -->
                <details class="filter-section advanced-filters">
                    <summary class="filter-title" data-i18n="moreFilters">More Filters</summary>
                    <div class="advanced-content">
                        <div class="input-group">
                            <label for="minDuration" data-i18n="durationLabel">Duration</label>
                            <div class="range-inputs">
                                <input type="number" id="minDuration" name="minDuration" min="0" value="0" data-i18n-placeholder="minDuration">
                                <span class="range-sep">â€“</span>
                                <input type="number" id="maxDuration" name="maxDuration" min="0" value="3600" data-i18n-placeholder="maxDuration">
                                <span class="input-suffix" data-i18n="durationSuffix">sec</span>
                            </div>
                        </div>
                        <div class="input-group">
                            <label for="startDate" data-i18n="dateRangeLabel">Date Range</label>
                            <div class="range-inputs">
                                <input type="date" id="startDate" name="startDate">
                                <span class="range-sep">â€“</span>
                                <input type="date" id="endDate" name="endDate">
                            </div>
                        </div>
                        <div class="input-group">
                            <label for="maxResults" data-i18n="maxResultsTitle">Max Results</label>
                            <input type="number" id="maxResults" name="maxResults" min="1" max="100" value="20">
                        </div>
                    </div>
                </details>

                <div class="filter-actions">
                    <button type="submit" class="btn btn-primary btn-lg" data-i18n="searchBtn">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/>
                        </svg>
                        Find Videos
                    </button>
                    <button type="reset" class="btn btn-ghost" data-i18n="resetBtn">Clear All</button>
                </div>
            </form>
        </aside>

        <!-- Main Content -->
        <main id="main-content" class="main-content">
            <!-- Top Bar -->
            <header class="content-header">
                <div class="header-left">
                    <button type="button" class="btn-icon sidebar-toggle" aria-label="Toggle sidebar">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M3 12h18M3 6h18M3 18h18"/>
                        </svg>
                    </button>
                    <h1 class="page-title">
                        <span data-i18n="resultsTitle">Videos</span>
                        <span id="resultsCount" class="results-badge"></span>
                    </h1>
                </div>
                <div class="header-right">
                    <div class="selection-info" id="selectionInfo" hidden>
                        <span id="selectionCount">0</span> selected
                    </div>
                    <button type="button" class="btn btn-primary" id="downloadAudioBtn">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7,10 12,15 17,10"/><line x1="12" y1="15" x2="12" y2="3"/>
                        </svg>
                        <span data-i18n="downloadBtn">Download Audio</span>
                    </button>
                    <select id="sortSelect" class="sort-select">
                        <option value="relevance" data-i18n="sortRelevance">Relevance</option>
                        <option value="date-desc" data-i18n="sortDateDesc">Newest</option>
                        <option value="date-asc" data-i18n="sortDateAsc">Oldest</option>
                        <option value="duration-desc" data-i18n="sortDurationDesc">Longest</option>
                        <option value="duration-asc" data-i18n="sortDurationAsc">Shortest</option>
                    </select>
                </div>
            </header>

            <!-- Error Container -->
            <div id="errorContainer" class="error-container" role="alert" aria-live="assertive" hidden></div>

            <!-- Loading State -->
            <div id="loadingIndicator" class="loading-container" role="status" hidden>
                <div class="loading-spinner"></div>
                <p class="loading-text" data-i18n="loadingText">Finding videos...</p>
                <div class="progress-track">
                    <div class="progress-bar" id="progressBar"></div>
                </div>
                <p class="loading-status" id="loadingStatus"></p>
            </div>

            <!-- Empty State -->
            <div id="emptyState" class="empty-state">
                <!-- Decorative hint arrow pointing to sidebar (hidden on mobile) -->
                <div class="hint-arrow" aria-hidden="true">
                    <svg width="48" height="48" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"/>
                    </svg>
                </div>
                <div class="empty-icon">
                    <!-- Cute matryoshka illustration for empty state -->
                    <svg width="72" height="72" viewBox="0 0 100 100" fill="none">
                        <ellipse cx="50" cy="62" rx="32" ry="32" fill="#FF6B6B"/>
                        <ellipse cx="50" cy="48" rx="28" ry="6" fill="#FFD93D"/>
                        <circle cx="50" cy="35" r="18" fill="#FFF5EE"/>
                        <circle cx="43" cy="33" r="3.5" fill="#3D3D3D"/>
                        <circle cx="57" cy="33" r="3.5" fill="#3D3D3D"/>
                        <circle cx="44.5" cy="31.5" r="1.2" fill="#FFF"/>
                        <circle cx="58.5" cy="31.5" r="1.2" fill="#FFF"/>
                        <path d="M44 40 Q50 46 56 40" fill="none" stroke="#3D3D3D" stroke-width="2.5" stroke-linecap="round"/>
                        <circle cx="38" cy="38" r="3" fill="#FFAAAA" opacity="0.6"/>
                        <circle cx="62" cy="38" r="3" fill="#FFAAAA" opacity="0.6"/>
                        <circle cx="50" cy="70" r="12" fill="#FFF5EE"/>
                        <polygon points="47,66 47,74 55,70" fill="#EE5A5A"/>
                    </svg>
                </div>
                <h2 data-i18n="emptyStateTitle">Discover Russian Media</h2>
                <p data-i18n="emptyStateDesc">Select your filters and click "Find Videos" to explore authentic Russian content for language learning.</p>
                <div class="empty-tips">
                    <span class="tip-badge" data-i18n="emptyStateTip">ðŸ’¡ Tip: Start with 1-2 sources for faster results</span>
                </div>
            </div>

            <!-- Results Grid -->
            <div id="resultsGrid" class="results-grid" role="list" aria-label="Search results"></div>

            <!-- Citations Panel -->
            <div id="citationsPanel" class="citations-panel" hidden>
                <div class="citations-header">
                    <h3 data-i18n="citationsTitle">Citations</h3>
                    <div class="citations-actions">
                        <div class="citation-formats">
                            <button type="button" class="format-btn active" data-format="apa">APA</button>
                            <button type="button" class="format-btn" data-format="mla">MLA</button>
                            <button type="button" class="format-btn" data-format="chicago">Chicago</button>
                            <button type="button" class="format-btn" data-format="bibtex">BibTeX</button>
                        </div>
                        <button type="button" class="btn btn-sm" id="copyCitationBtn">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="9" y="9" width="13" height="13" rx="2" ry="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/>
                            </svg>
                            Copy
                        </button>
                    </div>
                </div>
                <pre id="citationText" class="citation-output"><code data-i18n="citationPlaceholder">Select videos to generate citations...</code></pre>
            </div>
        </main>
    </div>

    <!-- Video Card Template -->
    <template id="videoCardTemplate">
        <article class="video-card" role="listitem">
            <label class="card-select">
                <input type="checkbox" class="video-select">
                <span class="checkmark">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                        <polyline points="20 6 9 17 4 12"/>
                    </svg>
                </span>
            </label>
            <div class="video-thumbnail">
                <img src="" alt="" loading="lazy">
                <span class="video-duration"></span>
                <span class="video-level"></span>
            </div>
            <div class="video-content">
                <div class="video-badges">
                    <span class="video-source"></span>
                    <span class="video-category"></span>
                </div>
                <h3 class="video-title"></h3>
                <p class="video-description"></p>
                <div class="video-footer">
                    <time class="video-date"></time>
                    <a href="#" class="video-link" target="_blank" rel="noopener">
                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15,3 21,3 21,9"/><line x1="10" y1="14" x2="21" y2="3"/>
                        </svg>
                        Watch
                    </a>
                </div>
            </div>
        </article>
    </template>

    <!-- Screen Reader -->
    <div id="announcer" class="visually-hidden" role="status" aria-live="polite" aria-atomic="true"></div>

    <script src="app.js" defer></script>
</body>
</html>
