<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Matushka - Russian Language Teaching Materials Collector</title>
    <meta name="description" content="Free browser-based Russian language teaching materials collector for educators. Search, filter, and download video content with automatic citation generation.">
    <meta name="keywords" content="Russian language, teaching materials, education, video collector, citations">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <!-- Header Section -->
        <header role="banner">
            <h1 id="app-title">Matushka</h1>
            <p class="subtitle" id="app-subtitle">Russian Language Teaching Materials Collector</p>
            <p class="description" id="app-description">
                A free, browser-based tool for educators to discover, organize, and cite Russian language video content for classroom use.
            </p>
        </header>

        <main role="main">
            <!-- Configuration Panel -->
            <section class="config-panel" id="config-panel" aria-labelledby="config-heading">
                <h2 id="config-heading">Search Configuration</h2>
                <p class="section-description">Customize your search filters to find the perfect teaching materials.</p>

                <form id="configForm" aria-label="Search configuration form">
                    <!-- Duration Filter -->
                    <div class="form-section" id="duration-section">
                        <h3 id="duration-heading">Duration Filter</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="minDuration">Minimum Seconds:</label>
                                <input type="number"
                                       id="minDuration"
                                       name="minDuration"
                                       value="30"
                                       min="0"
                                       max="3600"
                                       aria-describedby="duration-hint"
                                       required>
                            </div>
                            <div class="form-group">
                                <label for="maxDuration">Maximum Seconds:</label>
                                <input type="number"
                                       id="maxDuration"
                                       name="maxDuration"
                                       value="600"
                                       min="0"
                                       max="3600"
                                       aria-describedby="duration-hint"
                                       required>
                            </div>
                        </div>
                        <p class="hint" id="duration-hint">Filter videos by length (e.g., 30-600 seconds for clips between 30 seconds and 10 minutes)</p>
                    </div>

                    <!-- Date Range -->
                    <div class="form-section" id="date-section">
                        <h3 id="date-heading">Date Range</h3>
                        <div class="form-group">
                            <label for="daysBack">Days Back:</label>
                            <input type="number"
                                   id="daysBack"
                                   name="daysBack"
                                   value="7"
                                   min="1"
                                   max="365"
                                   aria-describedby="date-hint"
                                   required>
                        </div>
                        <p class="hint" id="date-hint">Search for content published within the specified number of days (1-365)</p>
                    </div>

                    <!-- Categories -->
                    <div class="form-section" id="categories-section">
                        <h3 id="categories-heading">Categories</h3>
                        <fieldset aria-labelledby="categories-heading">
                            <legend class="visually-hidden">Select content categories</legend>
                            <div class="checkbox-group" id="categories-group" role="group">
                                <div class="checkbox-item checkbox-item-all">
                                    <input type="checkbox"
                                           id="allCategories"
                                           name="allCategories"
                                           checked
                                           aria-controls="category-checkboxes">
                                    <label for="allCategories"><strong>All Categories</strong></label>
                                </div>
                                <div class="checkbox-grid" id="category-checkboxes">
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="catNews" name="categories" value="news">
                                        <label for="catNews">News</label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="catInterviews" name="categories" value="interviews">
                                        <label for="catInterviews">Interviews</label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="catCulture" name="categories" value="culture">
                                        <label for="catCulture">Culture</label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="catSports" name="categories" value="sports">
                                        <label for="catSports">Sports</label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="catPolitics" name="categories" value="politics">
                                        <label for="catPolitics">Politics</label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="catEconomics" name="categories" value="economics">
                                        <label for="catEconomics">Economics</label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="catScience" name="categories" value="science">
                                        <label for="catScience">Science</label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="catWeather" name="categories" value="weather">
                                        <label for="catWeather">Weather</label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="catEntertainment" name="categories" value="entertainment">
                                        <label for="catEntertainment">Entertainment</label>
                                    </div>
                                </div>
                            </div>
                        </fieldset>
                    </div>

                    <!-- Sources -->
                    <div class="form-section" id="sources-section">
                        <h3 id="sources-heading">Sources</h3>
                        <fieldset aria-labelledby="sources-heading">
                            <legend class="visually-hidden">Select content sources</legend>
                            <div class="checkbox-group" id="sources-group" role="group">
                                <div class="checkbox-item checkbox-item-all">
                                    <input type="checkbox"
                                           id="allSources"
                                           name="allSources"
                                           checked
                                           aria-controls="source-checkboxes">
                                    <label for="allSources"><strong>All Sources</strong></label>
                                </div>
                                <div class="checkbox-grid" id="source-checkboxes">
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="srcMainNews" name="sources" value="main_news">
                                        <label for="srcMainNews">Main News</label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="srcVremya" name="sources" value="vremya">
                                        <label for="srcVremya">Vremya</label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="srcPozner" name="sources" value="pozner">
                                        <label for="srcPozner">Pozner</label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="srcCulture" name="sources" value="culture_section">
                                        <label for="srcCulture">Culture</label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="srcSportsNews" name="sources" value="sports_news">
                                        <label for="srcSportsNews">Sports</label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="srcDobroeUtro" name="sources" value="dobroe_utro">
                                        <label for="srcDobroeUtro">Dobroe Utro</label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="srcSegodnyaVecherom" name="sources" value="segodnya_vecherom">
                                        <label for="srcSegodnyaVecherom">Segodnya Vecherom</label>
                                    </div>
                                </div>
                            </div>
                        </fieldset>
                    </div>

                    <!-- Max Items -->
                    <div class="form-section" id="max-items-section">
                        <h3 id="max-items-heading">Maximum Items</h3>
                        <div class="form-group">
                            <label for="maxItems">Maximum number of results:</label>
                            <input type="number"
                                   id="maxItems"
                                   name="maxItems"
                                   value="20"
                                   min="1"
                                   max="100"
                                   aria-describedby="max-items-hint"
                                   required>
                        </div>
                        <p class="hint" id="max-items-hint">Limit the number of search results (1-100)</p>
                    </div>

                    <!-- Action Buttons -->
                    <div class="form-actions" id="search-actions">
                        <button type="button"
                                id="searchBtn"
                                class="btn btn-primary btn-large"
                                aria-describedby="search-btn-desc">
                            <span class="btn-icon" aria-hidden="true">&#128269;</span>
                            Search for Content
                        </button>
                        <button type="button"
                                id="resetBtn"
                                class="btn btn-secondary"
                                aria-label="Reset all filters to default values">
                            Reset Filters
                        </button>
                    </div>
                    <p class="visually-hidden" id="search-btn-desc">Begin searching for Russian language video content based on your filter settings</p>

                    <!-- Error/Validation Messages -->
                    <div id="validationMessages"
                         class="validation-messages"
                         role="alert"
                         aria-live="polite"
                         aria-atomic="true"></div>
                </form>
            </section>

            <!-- Status/Progress Section -->
            <section class="status-section"
                     id="status-section"
                     aria-labelledby="status-heading"
                     aria-live="polite"
                     hidden>
                <h2 id="status-heading" class="visually-hidden">Operation Status</h2>

                <!-- Loading Spinner -->
                <div class="loading-container" id="loading-container" hidden>
                    <div class="spinner" id="spinner" role="status" aria-label="Loading">
                        <div class="spinner-circle"></div>
                    </div>
                    <p class="loading-text" id="loading-text">Searching for content...</p>
                </div>

                <!-- Progress Bar -->
                <div class="progress-container" id="progress-container" hidden>
                    <div class="progress-header">
                        <span class="progress-label" id="progress-label">Downloading...</span>
                        <span class="progress-percentage" id="progress-percentage">0%</span>
                    </div>
                    <div class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">
                        <div class="progress-fill" id="progress-fill" style="width: 0%"></div>
                    </div>
                    <p class="progress-detail" id="progress-detail">Preparing download...</p>
                </div>

                <!-- Status Messages -->
                <div class="status-messages" id="status-messages">
                    <!-- Success/error messages will be inserted here -->
                </div>
            </section>

            <!-- Results Section -->
            <section class="results-section"
                     id="results-section"
                     aria-labelledby="results-heading"
                     hidden>
                <h2 id="results-heading">Search Results</h2>

                <!-- Results Header -->
                <div class="results-header" id="results-header">
                    <div class="results-count">
                        <span id="results-count-text">0 items found</span>
                    </div>
                    <div class="results-view-toggle" role="group" aria-label="View options">
                        <button type="button"
                                id="viewGrid"
                                class="view-btn active"
                                aria-pressed="true"
                                aria-label="Grid view">
                            <span aria-hidden="true">&#9638;</span>
                        </button>
                        <button type="button"
                                id="viewList"
                                class="view-btn"
                                aria-pressed="false"
                                aria-label="List view">
                            <span aria-hidden="true">&#9776;</span>
                        </button>
                    </div>
                </div>

                <!-- Selection Controls -->
                <div class="selection-controls" id="selection-controls">
                    <button type="button" id="selectAllBtn" class="btn btn-small btn-outline">
                        Select All
                    </button>
                    <button type="button" id="deselectAllBtn" class="btn btn-small btn-outline">
                        Deselect All
                    </button>
                    <span class="selection-count" id="selection-count">0 selected</span>
                </div>

                <!-- Results Grid/List Container -->
                <div class="results-container" id="results-container" role="list" aria-label="Search results">
                    <!-- Video cards will be dynamically inserted here -->
                </div>

                <!-- Results Actions -->
                <div class="results-actions" id="results-actions">
                    <button type="button"
                            id="downloadSelectedBtn"
                            class="btn btn-primary"
                            disabled
                            aria-describedby="download-desc">
                        <span class="btn-icon" aria-hidden="true">&#8681;</span>
                        Download Selected
                    </button>
                    <button type="button"
                            id="exportCitationsBtn"
                            class="btn btn-secondary"
                            disabled
                            aria-describedby="citations-desc">
                        <span class="btn-icon" aria-hidden="true">&#128196;</span>
                        Export Citations
                    </button>
                </div>
                <p class="visually-hidden" id="download-desc">Download selected video files</p>
                <p class="visually-hidden" id="citations-desc">Generate and export citations for selected items</p>

                <!-- Empty State -->
                <div class="empty-state" id="empty-state" hidden>
                    <div class="empty-state-icon" aria-hidden="true">&#128269;</div>
                    <h3>No Results Found</h3>
                    <p>Try adjusting your search filters or expanding your date range.</p>
                </div>
            </section>

            <!-- Citations Panel -->
            <section class="citations-panel"
                     id="citations-panel"
                     aria-labelledby="citations-heading"
                     hidden>
                <div class="citations-header">
                    <h2 id="citations-heading">Generated Citations</h2>
                    <button type="button"
                            id="toggleCitationsBtn"
                            class="btn btn-icon-only"
                            aria-expanded="true"
                            aria-controls="citations-content"
                            aria-label="Collapse citations panel">
                        <span class="toggle-icon" aria-hidden="true">&#9650;</span>
                    </button>
                </div>

                <div class="citations-content" id="citations-content">
                    <!-- Format Selector -->
                    <div class="format-selector" id="format-selector">
                        <label for="citationFormat" id="format-label">Citation Format:</label>
                        <select id="citationFormat"
                                name="citationFormat"
                                aria-labelledby="format-label">
                            <option value="chicago" selected>Chicago Style</option>
                            <option value="mla">MLA</option>
                            <option value="apa">APA</option>
                            <option value="bibtex">BibTeX</option>
                            <option value="json">JSON</option>
                        </select>
                    </div>

                    <!-- Citations Display -->
                    <div class="citations-display" id="citations-display">
                        <textarea id="citationsText"
                                  class="citations-textarea"
                                  readonly
                                  aria-label="Generated citations"
                                  placeholder="Citations will appear here after export..."></textarea>
                    </div>

                    <!-- Citations Actions -->
                    <div class="citations-actions" id="citations-actions">
                        <button type="button"
                                id="copyAllCitationsBtn"
                                class="btn btn-secondary btn-small"
                                aria-label="Copy all citations to clipboard">
                            <span class="btn-icon" aria-hidden="true">&#128203;</span>
                            Copy All
                        </button>
                        <button type="button"
                                id="downloadCitationsBtn"
                                class="btn btn-secondary btn-small"
                                aria-label="Download citations as file">
                            <span class="btn-icon" aria-hidden="true">&#8681;</span>
                            Download File
                        </button>
                    </div>
                </div>
            </section>

            <!-- Legal Disclaimer (Brief) -->
            <section class="legal-notice" id="legal-notice" aria-labelledby="legal-heading">
                <h2 id="legal-heading">Important Notice</h2>
                <div class="notice-content">
                    <p>
                        <strong>Educational Use Only:</strong> Matushka is designed exclusively for educational purposes to help Russian language educators discover and organize teaching materials.
                    </p>
                    <p>
                        Users are responsible for ensuring compliance with all applicable laws and terms of service. All materials remain the property of their original creators.
                    </p>
                    <p>
                        <a href="legal.html" id="legal-link">Read the full legal disclaimer and terms of use</a>
                    </p>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer role="contentinfo" id="app-footer">
            <div class="footer-content">
                <div class="footer-section">
                    <p class="footer-brand">Matushka</p>
                    <p class="footer-tagline">Free Russian language teaching materials for educators worldwide.</p>
                </div>

                <div class="footer-section">
                    <p class="footer-links">
                        <a href="legal.html" aria-label="Legal information and disclaimer">Legal</a>
                        <span class="separator" aria-hidden="true">|</span>
                        <a href="https://github.com/yourusername/matushka"
                           target="_blank"
                           rel="noopener noreferrer"
                           aria-label="View Matushka on GitHub (opens in new tab)">
                            GitHub
                        </a>
                    </p>
                </div>

                <div class="footer-section">
                    <p class="footer-license">
                        Released under the <a href="https://opensource.org/licenses/MIT"
                                              target="_blank"
                                              rel="noopener noreferrer">MIT License</a>
                    </p>
                    <p class="footer-copyright">
                        <span id="copyright-year"></span> Matushka Project
                    </p>
                </div>
            </div>
        </footer>
    </div>

    <!-- Video Card Template (hidden, used by JavaScript) -->
    <template id="video-card-template">
        <article class="video-card" role="listitem">
            <div class="video-card-select">
                <input type="checkbox"
                       class="video-select-checkbox"
                       aria-label="Select this video">
            </div>
            <div class="video-card-thumbnail">
                <img src="" alt="" class="video-thumbnail" loading="lazy">
                <span class="video-duration-badge"></span>
            </div>
            <div class="video-card-content">
                <h3 class="video-title"></h3>
                <p class="video-program"></p>
                <div class="video-meta">
                    <span class="video-date"></span>
                    <span class="video-category-badge"></span>
                </div>
            </div>
        </article>
    </template>

    <!-- Status Message Template -->
    <template id="status-message-template">
        <div class="status-message" role="status">
            <span class="status-icon" aria-hidden="true"></span>
            <span class="status-text"></span>
            <button type="button" class="status-dismiss" aria-label="Dismiss message">&times;</button>
        </div>
    </template>

    <script src="app.js"></script>
</body>
</html>
